<!DOCTYPE html>
<html lang="ar" dir="rtl"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BestEver - بيست ايفر</title>

    <meta property="og:title" content="BestEver - بيست ايفر">
    <meta property="og:description" content="طور السيت اب خاص بك معنا, لانا نوفر لك افضل المنتجات جودة وسعر">
    <meta property="og:image" content="./logo.png"> 
    <meta property="og:url" content="YOUR_WEBSITE_URL_HERE">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BestEver - بيست ايفر">
    <meta name="twitter:description" content="طور السيت اب خاص بك معنا, لاننا نوفر لك افضل المنتجات جودة وسعر">
    <meta name="twitter:image" content="./logo.png"> 

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.process = { env: { NODE_ENV: 'production' } };
        (function() {
            const originalConsoleWarn = console.warn;
            console.warn = function(...args) {
                if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com')) {
                    return;
                }
                originalConsoleWarn.apply(console, args);
            };
        })();

        if (typeof tailwind !== 'undefined') {
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        fontFamily: {
                            'arabic': ['Noto Sans Arabic', 'sans-serif']
                        }
                    }
                }
            };
        }
    </script>

    <script type="module">
        if (!window.firebase) {
            try {
                const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js');
                const { getAuth, signInAnonymously, onAuthStateChanged, signOut } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js');
                const { getFirestore, doc, getDoc, setDoc, addDoc, collection, query, onSnapshot, deleteDoc, updateDoc, getDocs } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
                const { getAnalytics } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js');

                window.firebase = {
                    initializeApp,
                    auth: { getAuth, signInAnonymously, onAuthStateChanged, signOut },
                    firestore: { getFirestore, doc, getDoc, setDoc, addDoc, collection, query, onSnapshot, deleteDoc, updateDoc, getDocs },
                    analytics: { getAnalytics }
                };
                console.log("Firebase SDK loaded successfully");
            } catch (error) {
                console.error("Error loading Firebase SDK:", error);
            }
        }
    </script>

    <link rel="stylesheet" href="style.css"></head>
<body>

    <header class="bg-white shadow-sm p-4 md:px-8 flex justify-center items-center rounded-b-xl sticky top-0 z-50">

        <a href="#top" class="text-2xl font-bold text-indigo-700 hover:text-indigo-500 transition duration-300">
       BestEver
        </a>
    </header>

   

        </div>
    </section>

    <section id="admin-controls" class="container mx-auto p-6 md:p-8 mt-12 bg-indigo-700 rounded-xl shadow-lg hidden">
        <h2 class="text-2xl md:text-3xl font-bold text-center text-indigo-100 mb-6">لوحة تحكم المطور</h2>
        <p class="text-center text-indigo-200 mb-4">هذه الأزرار تظهر فقط للمستخدم المسؤول (المطور).</p>
        <div class="flex flex-wrap justify-center gap-4">
            <button id="add-product-btn" class="bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition duration-300 shadow-md transform hover:scale-105">
                إضافة منتج جديد
            </button>
            <button id="delete-products-btn" class="bg-red-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-red-700 transition duration-300 shadow-md transform hover:scale-105">
                حذف جميع المنتجات
            </button>
            <button id="edit-product-btn" class="bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition duration-300 shadow-md transform hover:scale-105">
                تعديل منتج
            </button>
            <button id="add-category-btn" class="bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 transition duration-300 shadow-md transform hover:scale-105">
                إضافة تصنيف
            </button>
            <button id="add-offer-btn" class="bg-orange-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-orange-700 transition duration-300 shadow-md transform hover:scale-105">
                إضافة عرض
            </button>
            <button id="manage-discount-codes-btn" class="bg-yellow-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-yellow-700 transition duration-300 shadow-md transform hover:scale-105">
                إدارة أكواد الخصم
            </button>
        </div>
    </section>

     <section id="offers-container" class="container mx-auto p-6 md:p-8 mt-12 hidden">
         <div class="relative overflow-hidden rounded-xl shadow-lg">
            <div id="offers-slider" class="flex transition-transform duration-500 ease-in-out">

            </div>
        </div>
    </section>

    <section id="products" class="container mx-auto p-6 md:p-8 mt-12">
        <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-10">أحدث المنتجات</h2>
        <div id="products-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">

            <p class="col-span-full text-center text-gray-500">جاري تحميل المنتجات...</p>
        </div>
    </section>

    <section id="reviews-section" class="container mx-auto p-6 md:p-8 mt-12">
        <div class="text-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">آراء الزبائن:</h2>
            <div class="relative overflow-hidden rounded-xl bg-gradient-to-r from-purple-600 to-blue-600 p-8 shadow-xl">
                <div class="relative z-10">
                    <div id="reviews-container" class="flex transition-transform duration-500 ease-in-out">

                    </div>
                    <div class="flex justify-center items-center mt-6">
                        <span class="text-white text-sm bg-white bg-opacity-20 px-4 py-2 rounded-full backdrop-blur-sm">
                            استخدم التمرير لتصفح بين التقييمات
                        </span>
                    </div>
                    <button id="add-review-btn" class="mt-6 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 shadow-lg transform hover:scale-105 hidden">
                        إضافة تقييم
                    </button>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-gray-300 py-8 mt-12 rounded-t-xl">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-white text-lg font-semibold mb-4">تابعنا</h3>
            <div class="flex flex-col items-center justify-center space-y-4 mb-6">
                <a href="https://www.instagram.com/besteverstore_?igsh=MWRzc3lkb3ZreG1idA==" target="_blank" class="flex items-center text-gray-300 hover:text-pink-500 transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram ml-2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    <span>انستغرام</span>
                </a>

                <a href="https://www.tiktok.com/@besteverstore_" target="_blank" class="flex items-center text-gray-300 hover:text-red-500 transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="currentColor" class="ml-2">
                        <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-.88-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43V7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.43z"/>
                    </svg>
                    <span>تيك توك</span>
                </a>

                <a href="https://wa.me/غيرمتوفر" target="_blank" class="flex items-center text-gray-300 hover:text-green-500 transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle ml-2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                    <span>واتساب</span>
                </a>
            </div>
            
            <h3 class="text-white text-lg font-semibold mb-4 mt-8">للتواصل معنا</h3>
            <p class="text-sm">
                للاستفسارات والدعم الفني، تواصل معنا عبر الانستا
            </p>
            
            <p class="text-sm mt-6">
                Powered by <a href="https://www.instagram.com/imis2i?igsh=MWRzc3lkb3ZreG1idA==" target="_blank" class="text-indigo-400 hover:text-indigo-200 transition duration-300 font-semibold">Nuix</a>
            </p>
        </div>
    </footer>

    <div class="bottom-navbar">
        <button id="bottom-profile-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <span>البروفايل</span>
        </button>
        <button id="bottom-categories-btn"> 
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
            <span>التصنيفات</span>
        </button>
        <button id="bottom-search-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <span>بحث</span>
        </button>
        <button id="bottom-cart-btn" class="relative">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z"></path>
            </svg>
            <span>السلة</span>
            <span id="cart-count-bottom" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>
    </div>

    <div id="search-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-search-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">بحث المنتجات</h3>
            <div class="flex items-center space-x-4 mb-6">
                <input type="text" id="search-input" placeholder="ادخل كلمة البحث..." class="flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                
            </div>
            <div id="search-results-container" class="max-h-80 overflow-y-auto">
                <p class="text-center text-gray-500">ابدأ البحث لعرض النتائج.</p>
            </div>
        </div>
    </div>

    <div id="categories-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-categories-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">التصنيفات</h3>
            <div id="categories-list" class="space-y-3">
                <button class="favorites-filter-btn w-full text-right py-3 px-4 rounded-lg bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600 transition duration-300 font-semibold shadow-lg transform hover:scale-105">
                    المفضلات
                </button>
                <button class="all-products-filter-btn w-full text-right py-3 px-4 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:from-indigo-600 hover:to-purple-600 transition duration-300 font-semibold shadow-lg transform hover:scale-105">
                    جميع المنتجات
                </button>
                <hr class="border-gray-300 my-4">
            </div>
        </div>
    </div>


    <div id="login-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-login-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">تسجيل الدخول / التسجيل</h3>
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="full-name" class="block text-sm font-medium text-gray-700">الاسم الثلاثي</label>
                    <input type="text" id="full-name" name="full-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="phone-number" class="block text-sm font-medium text-gray-700">رقم الهاتف (11 رقمًا بعد +964)</label>
                    <div class="flex items-center mt-1">
                        <span class="bg-gray-200 text-gray-700 py-2 px-3 rounded-l-md border border-r-0 border-gray-300 font-medium">+964</span>
                        <input type="tel" id="phone-number" name="phone-number" placeholder="7701234567" class="block w-full px-4 py-2 border border-gray-300 rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">الرجاء إدخال 11 رقمًا فقط.</p>
                </div>
                <div>
                    <label for="gender" class="block text-sm font-medium text-gray-700 mb-2">الجنس</label>
                    <select id="gender" name="gender" class="mt-1 block w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900 text-lg" required>
                        <option value="" disabled selected>اختر الجنس</option>
                        <option value="male">ذكر</option>
                        <option value="female">أنثى</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md">
                    تأكيد التسجيل
                </button>
                <p id="login-message" class="text-center text-sm mt-3 hidden"></p>
            </form>
        </div>
    </div>

    <div id="add-product-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-add-product-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إضافة منتج جديد</h3>
            <form id="add-product-form" class="space-y-4">
                <div>
                    <label for="product-brand" class="block text-sm font-medium text-gray-700">اسم البراند</label>
                    <input type="text" id="product-brand" name="product-brand" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="product-name" class="block text-sm font-medium text-gray-700">اسم المنتج</label>
                    <input type="text" id="product-name" name="product-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="product-description" class="block text-sm font-medium text-gray-700">وصف المنتج</label>
                    <textarea id="product-description" name="product-description" rows="3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required></textarea>
                </div>
                <div>
                    <label for="product-price" class="block text-sm font-medium text-gray-700">السعر (د.ع)</label>
                    <input type="number" step="0.01" id="product-price" name="product-price" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" id="product-has-discount" name="product-has-discount" class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <span class="ml-2 text-sm text-gray-700">المنتج به خصم</span>
                    </label>
                </div>
                <div id="original-price-container" class="hidden">
                    <label for="product-original-price" class="block text-sm font-medium text-gray-700">السعر الأصلي قبل الخصم (د.ع)</label>
                    <input type="number" step="0.01" id="product-original-price" name="product-original-price" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="product-availability" class="block text-sm font-medium text-gray-700">حالة التوفر</label>
                    <select id="product-availability" name="product-availability" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                        <option value="available">متوفر</option>
                        <option value="sold-out">مباع</option>
                        <option value="unspecified">غير محدد</option>
                    </select>
                </div>
                <div>
                    <label for="product-category" class="block text-sm font-medium text-gray-700">التصنيف</label>
                    <select id="product-category" name="product-category" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                        <option value="">اختر تصنيف</option>
                    </select>
                </div>
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" id="product-free-delivery" name="product-free-delivery" class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <span class="ml-2 text-sm text-gray-700">توصيل مجاني</span>
                    </label>
                </div>
                <div>
                    <label for="product-image-url" class="block text-sm font-medium text-gray-700">رابط الصورة الرئيسية (إجباري)</label>
                    <input type="url" id="product-image-url" name="product-image-url" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="product-image-url-2" class="block text-sm font-medium text-gray-700">رابط الصورة الثانية (اختياري)</label>
                    <input type="url" id="product-image-url-2" name="product-image-url-2" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="product-image-url-3" class="block text-sm font-medium text-gray-700">رابط الصورة الثالثة (اختياري)</label>
                    <input type="url" id="product-image-url-3" name="product-image-url-3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="product-image-url-4" class="block text-sm font-medium text-gray-700">رابط الصورة الرابعة (اختياري)</label>
                    <input type="url" id="product-image-url-4" name="product-image-url-4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="product-image-url-5" class="block text-sm font-medium text-gray-700">رابط الصورة الخامسة (اختياري)</label>
                    <input type="url" id="product-image-url-5" name="product-image-url-5" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition duration-300 shadow-md">
                    إضافة المنتج
                </button>
                <p id="add-product-message" class="text-center text-sm mt-3 hidden"></p>
            </form>
        </div>
    </div>

    <div id="edit-product-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-edit-product-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">تعديل المنتج</h3>
            <form id="edit-product-form" class="space-y-4">
                <input type="hidden" id="edit-product-id">
                <div>
                    <label for="edit-product-brand" class="block text-sm font-medium text-gray-700">اسم البراند</label>
                    <input type="text" id="edit-product-brand" name="edit-product-brand" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="edit-product-name" class="block text-sm font-medium text-gray-700">اسم المنتج</label>
                    <input type="text" id="edit-product-name" name="edit-product-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="edit-product-description" class="block text-sm font-medium text-gray-700">وصف المنتج</label>
                    <textarea id="edit-product-description" name="edit-product-description" rows="3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required></textarea>
                </div>
                <div>
                    <label for="edit-product-price" class="block text-sm font-medium text-gray-700">السعر (د.ع)</label>
                    <input type="number" step="0.01" id="edit-product-price" name="edit-product-price" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" id="edit-product-has-discount" name="edit-product-has-discount" class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <span class="ml-2 text-sm text-gray-700">المنتج به خصم</span>
                    </label>
                </div>
                <div id="edit-original-price-container" class="hidden">
                    <label for="edit-product-original-price" class="block text-sm font-medium text-gray-700">السعر الأصلي قبل الخصم (د.ع)</label>
                    <input type="number" step="0.01" id="edit-product-original-price" name="edit-product-original-price" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="edit-product-availability" class="block text-sm font-medium text-gray-700">حالة التوفر</label>
                    <select id="edit-product-availability" name="edit-product-availability" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white textgray-900" required>
                        <option value="available">متوفر</option>
                        <option value="sold-out">مباع</option>
                        <option value="unspecified">غير محدد</option>
                    </select>
                </div>
                <div>
                    <label for="edit-product-category" class="block text-sm font-medium text-gray-700">التصنيف</label>
                    <select id="edit-product-category" name="edit-product-category" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                        <option value="">اختر تصنيف</option>
                    </select>
                </div>
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" id="edit-product-free-delivery" name="edit-product-free-delivery" class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <span class="ml-2 text-sm text-gray-700">توصيل مجاني</span>
                    </label>
                </div>
                <div>
                    <label for="edit-product-image-url" class="block text-sm font-medium text-gray-700">رابط الصورة الرئيسية (إجباري)</label>
                    <input type="url" id="edit-product-image-url" name="edit-product-image-url" class="mt-1block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="edit-product-image-url-2" class="block text-sm font-medium text-gray-700">رابط الصورة الثانية (اختياري)</label>
                    <input type="url" id="edit-product-image-url-2" name="edit-product-image-url-2" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="edit-product-image-url-3" class="block text-sm font-medium text-gray-700">رابط الصورة الثالثة (اختياري)</label>
                    <input type="url" id="edit-product-image-url-3" name="edit-product-image-url-3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="edit-product-image-url-4" class="block text-sm font-medium text-gray-700">رابط الصورة الرابعة (اختياري)</label>
                    <input type="url" id="edit-product-image-url-4" name="edit-product-image-url-4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <div>
                    <label for="edit-product-image-url-5" class="block text-sm font-medium text-gray-700">رابط الصورة الخامسة (اختياري)</label>
                    <input type="url" id="edit-product-image-url-5" name="edit-product-image-url-5" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition duration-300 shadow-md">
                    حفظ التعديلات
                </button>
                <p id="edit-product-message" class="text-center text-sm mt-3 hidden"></p>
            </form>
        </div>
    </div>

    <div id="shopping-cart-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-shopping-cart-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">سلة التسوق</h3>
            <div id="cart-items" class="max-h-80 overflow-y-auto mb-6">

                <p class="text-center text-gray-500">سلة التسوق فارغة.</p>
            </div>
            <div id="cart-summary" class="border-t border-gray-200 pt-4 flex justify-center items-center hidden">
                <span class="text-xl font-bold text-gray-900">المجموع الكلي:</span>
                <span id="cart-total" class="text-xl font-bold text-indigo-700">0.00 د.ع</span>
            </div>
            <button id="checkout-btn" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md mt-6 hidden">
                إتمام الشراء
            </button>
        </div>
    </div>

    <div id="checkout-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-checkout-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إتمام عملية الشراء</h3>
            <form id="checkout-form" class="space-y-4">
                <div>
                    <label for="checkout-name" class="block text-sm font-medium text-gray-700">الاسم الكامل</label>
                    <input type="text" id="checkout-name" name="checkout-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="checkout-governorate" class="block text-sm font-medium text-gray-700 mb-2">المحافظة</label>
                    <select id="checkout-governorate" name="checkout-governorate" class="mt-1 block w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900 text-lg" required>
                        <option value="" disabled selected>اختر محافظة</option>
                        <option value="بغداد">بغداد</option>
                        <option value="البصرة">البصرة</option>
                        <option value="نينوى">نينوى</option>
                        <option value="المثنى">المثنى</option>
                        <option value="القادسية">القادسية</option>
                        <option value="النجف">النجف</option>
                        <option value="الأنبار">الأنبار</option>
                        <option value="بابل">بابل</option>
                        <option value="ذي قار">ذي قار</option>
                        <option value="ديالى">ديالى</option>
                        <option value="كربلاء">كربلاء</option>
                        <option value="كركوك">كركوك</option>
                        <option value="ميسان">ميسان</option>
                        <option value="صلاح الدين">صلاح الدين</option>
                        <option value="واسط">واسط</option>
                        <option value="أربيل">أربيل</option>
                        <option value="السليمانية">السليمانية</option>
                        <option value="دهوك">دهوك</option>
                    </select>
                </div>
                <div>
                    <label for="checkout-district" class="block text-sm font-medium text-gray-700">القضاء/الناحية/المدينة</label>
                    <input type="text" id="checkout-district" name="checkout-district" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="checkout-phone" class="block text-sm font-medium text-gray-700">رقم الهاتف</label>
                    <div class="flex items-center mt-1">
                        <span class="bg-gray-200 text-gray-700 py-2 px-3 rounded-l-md border border-r-0 border-gray-300 font-medium">+964</span>
                        <input type="tel" id="checkout-phone" name="checkout-phone" placeholder="7701234567" class="block w-full px-4 py-2 border border-gray-300 rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">يجب عليك وضع رقم هاتفك لتثبيت الطلب و أيضاً حتى يستطيع المندوب التواصل معك (11 رقماً بعد +964).</p>
                </div>
                <div>
                    <label for="checkout-notes" class="block text-sm font-medium text-gray-700">ملاحظة (اختياري)</label>
                    <textarea id="checkout-notes" name="checkout-notes" rows="3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900"></textarea>
                </div>

                <div>
                    <label for="checkout-discount-code" class="block text-sm font-medium text-gray-700">كود الخصم (اختياري)</label>
                    <div class="flex items-center mt-1 gap-2">
                        <input type="text" id="checkout-discount-code" name="checkout-discount-code" placeholder="أدخل كود الخصم" class="flex-grow px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900">
                        <button type="button" id="apply-discount-btn" class="bg-green-600 text-white py-2 px-4 rounded-md font-semibold hover:bg-green-700 transition duration-300">
                            تطبيق
                        </button>
                    </div>
                    <p id="discount-message" class="text-sm mt-1 hidden"></p>
                </div>

                <div class="mt-6">
                    <h4 class="text-lg font-semibold text-gray-900 mb-3">المنتجات المطلوبة:</h4>
                    <div id="checkout-products-list" class="max-h-40 overflow-y-auto border border-gray-200 p-3 rounded-lg space-y-2">

                    </div>
                </div>

                <div class="mt-6 border-t border-gray-200 pt-4 text-center">
                    <p class="text-base font-semibold text-gray-900 mb-2">الدفع عند الاستلام</p>
                    <p class="text-base font-semibold text-gray-900">توصيل لجميع محافظات العراق: 5,000 د.ع</p>
                </div>

                <button type="submit" id="confirm-order-btn" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md">
                    تأكيد الطلب
                </button>
                <p id="checkout-message" class="text-center text-sm mt-3 hidden"></p>
            </form>
        </div>
    </div>

    <div id="profile-details-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-profile-details-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">معلومات حسابي</h3>
            <div class="flex flex-col items-center space-y-4">
                <img id="profile-details-image" src="https://placehold.co/100x100/eeeeee/333333?text=User" alt="Profile" class="w-24 h-24 rounded-circle object-cover border-4 border-indigo-200">
                <div class="flex items-center gap-2">
                    <p class="text-xl font-semibold text-gray-900" id="profile-details-name"></p>
                    <button id="edit-name-btn" class="text-blue-500 hover:text-blue-700 hidden">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                    </button>
                </div>
                <div class="flex items-center gap-2">
                    <p class="text-gray-600" id="profile-details-phone"></p>
                    <button id="edit-phone-btn" class="text-blue-500 hover:text-blue-700 hidden">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                    </button>
                </div>
                <p class="text-sm text-gray-500" id="profile-details-registered-date"></p>
                <p class="text-sm font-medium text-green-600" id="profile-details-completed-orders"></p>
            </div>

            <button id="profile-details-logout-btn" class="w-100 bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition duration-300 shadow-md mt-8 hidden">
                تسجيل خروج
            </button>
            <button id="profile-details-login-btn" class="w-100 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md mt-8 hidden">
                تسجيل الدخول / التسجيل
            </button>
        </div>
    </div>

    <div id="product-details-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800 max-w-4xl w-full">
            <span id="close-product-details-modal" class="modal-close-btn">&times;</span>
            <div class="flex flex-col lg:flex-row gap-6">
                <div class="lg:w-1/2">
                    <div class="relative">
                        <img id="product-details-main-image" src="" alt="" class="w-full h-96 object-contain rounded-lg bg-gray-100">
                        <div id="product-details-thumbnail-container" class="flex gap-2 mt-4 overflow-x-auto">

                        </div>
                    </div>
                </div>

                <div class="lg:w-1/2">
                    <div class="mb-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h1 id="product-details-name" class="text-3xl font-bold text-gray-900"></h1>
                                    <button id="product-details-favorite-btn" class="text-gray-400 hover:text-red-500 transition duration-300">
                                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                        </svg>
                                    </button>
                                </div>
                                <p id="product-details-brand" class="text-lg text-gray-600 mb-2"></p>
                                <p id="product-details-category" class="text-sm text-gray-600 mb-2 hidden"></p>
                                <div class="flex items-center gap-4 mb-4">
                                    <span id="product-details-availability" class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold"></span>
                                    <span id="product-details-free-delivery" class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold hidden">توصيل مجاني</span>
                                </div>
                                <p id="product-details-description" class="text-gray-700 mb-6 leading-relaxed"></p>
                            </div>


                            <div id="product-details-actions" class="border-t pt-6">
                                <div class="flex items-center justify-center mb-6">
                                    <span id="product-details-price" class="text-3xl font-bold text-indigo-600"></span>
                                </div>
                                <div class="flex gap-4 mb-4">
                                    <button id="product-details-add-to-cart" class="flex-1 bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 flex items-center justify-center gap-2">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z"></path>
                                        </svg>
                                        إضافة للسلة
                                    </button>
                                    <button id="product-details-buy-now" class="flex-1 bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition duration-300 flex items-center justify-center gap-2">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                        </svg>
                                        اشتري الآن
                                    </button>
                                </div>
                                <button id="product-details-rate-btn" class="w-full bg-yellow-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-yellow-600 transition duration-300 flex items-center justify-center gap-2 hidden">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.538-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.729c-.783-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"/>
                                    </svg>
                                    قيم المنتج
                                </button>
                            </div>
                </div>
            </div>
        </div>
    </div>

    <div id="add-review-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-add-review-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إضافة تقييم</h3>
            <form id="add-review-form" class="space-y-4">
                <div>
                    <label for="review-user-name" class="block text-sm font-medium text-gray-700">اسمك</label>
                    <input type="text" id="review-user-name" name="review-user-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="review-rating-number" class="block text-sm font-medium text-gray-700">التقييم (1-5 نجوم)</label>
                    <input type="number" id="review-rating-number" name="review-rating-number" min="1" max="5" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                    <p class="text-xs text-gray-500 mt-1">أدخل رقم من 1 إلى 5 (1 = نجمة واحدة، 5 = خمس نجوم)</p>
                </div>
                <div>
                    <label for="review-text" class="block text-sm font-medium text-gray-700">التقييم</label>
                    <textarea id="review-text" name="review-text" rows="4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required></textarea>
                </div>
                <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md">
                    إضافة التقييم
                </button>
            </form>
        </div>
    </div>


    <div id="add-category-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-add-category-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إضافة تصنيف جديد</h3>
            <form id="add-category-form" class="space-y-4">
                <div>
                    <label for="category-name" class="block text-sm font-medium text-gray-700">اسم التصنيف</label>
                    <input type="text" id="category-name" name="category-name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-300 shadow-md">
                    إضافة التصنيف
                </button>
            </form>
        </div>
    </div>

    <div id="add-offer-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-add-offer-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إضافة عرض جديد</h3>
            <form id="add-offer-form" class="space-y-4">
                <div>
                    <label for="offer-image-url" class="block text-sm font-medium text-gray-700">رابط صورة العرض</label>
                    <input type="url" id="offer-image-url" name="offer-image-url" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <button type="submit" class="w-full bg-orange-600 text-white py-3 rounded-lg font-semibold hover:bg-orange-700 transition duration-300 shadow-md">
                    إضافة العرض
                </button>
            </form>
        </div>
    </div>

    <div id="discount-codes-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800">
            <span id="close-discount-codes-modal" class="modal-close-btn">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">إدارة أكواد الخصم</h3>

            <form id="add-discount-code-form" class="space-y-4 mb-6 border-b border-gray-600 pb-6">
                <h4 class="text-lg font-semibold text-gray-100">إضافة كود خصم جديد</h4>
                <div>
                    <label for="discount-code-name" class="block text-sm font-medium text-gray-700">كود الخصم</label>
                    <input type="text" id="discount-code-name" name="discount-code-name" placeholder="مثال: SAVE20" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                </div>
                <div>
                    <label for="discount-percentage" class="block text-sm font-medium text-gray-700">نسبة الخصم (%)</label>
                    <input type="number" id="discount-percentage" name="discount-percentage" min="1" max="100" placeholder="مثال: 20" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-900" required>
                    <p class="text-xs text-gray-500 mt-1">أدخل رقم من 1 إلى 100</p>
                </div>
                <button type="submit" class="w-full bg-yellow-600 text-white py-3 rounded-lg font-semibold hover:bg-yellow-700 transition duration-300 shadow-md">
                    إضافة كود الخصم
                </button>
            </form>

            <div>
                <h4 class="text-lg font-semibold text-gray-100 mb-4">أكواد الخصم الحالية</h4>
                <div id="discount-codes-list" class="space-y-3 max-h-60 overflow-y-auto">
                    <p class="text-center text-gray-500">جاري تحميل أكواد الخصم...</p>
                </div>
            </div>
        </div>
    </div>

    <div id="product-rating-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800 max-w-md">
            <span id="close-product-rating-modal" class="modal-close-btn cursor-pointer text-2xl">&times;</span>
            <h3 class="text-2xl font-bold text-center text-gray-900 mb-6">قيم المنتج</h3>
            <form id="product-rating-form" class="space-y-6">
                <input type="hidden" id="rating-product-id">
                <div class="text-center">
                    <p class="text-lg text-gray-700 mb-4">كيف تقيم هذا المنتج؟</p>
                    <div class="flex justify-center gap-2 mb-4">
                        <button type="button" class="product-rating-star w-12 h-12 text-3xl text-gray-300 hover:text-yellow-400 transition-colors duration-200" data-rating="1">
                            ★
                        </button>
                        <button type="button" class="product-rating-star w-12 h-12 text-3xl text-gray-300 hover:text-yellow-400 transition-colors duration-200" data-rating="2">
                            ★
                        </button>
                        <button type="button" class="product-rating-star w-12 h-12 text-3xl text-gray-300 hover:text-yellow-400 transition-colors duration-200" data-rating="3">
                            ★
                        </button>
                        <button type="button" class="product-rating-star w-12 h-12 text-3xl text-gray-300 hover:text-yellow-400 transition-colors duration-200" data-rating="4">
                            ★
                        </button>
                        <button type="button" class="product-rating-star w-12 h-12 text-3xl text-gray-300 hover:text-yellow-400 transition-colors duration-200" data-rating="5">
                            ★
                        </button>
                    </div>
                    <input type="hidden" id="product-rating-value" value="0">
                    <p class="text-center text-sm text-gray-600 mb-6">اختر التقييم: <span id="current-product-rating-text">لم يتم الاختيار</span></p>
                </div>
                
                <div class="flex gap-3">
                    <button type="submit" class="flex-1 bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition duration-300">
                        إرسال التقييم
                    </button>
                    <button type="button" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-semibold hover:bg-gray-600 transition duration-300" onclick="this.closest('.modal-overlay').classList.add('hidden')">
                        إلغاء
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="welcome-modal" class="modal-overlay hidden">
        <div class="modal-content bg-gray-800 max-w-md">
            <span id="close-welcome-modal" class="modal-close-btn cursor-pointer text-2xl">&times;</span>
            <div class="text-center">
                <div class="mb-6">
                    <svg class="w-16 h-16 mx-auto text-indigo-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10m0 0V6a2 2 0 00-2-2H9a2 2 0 00-2 2v2m0 0v10a2 2 0 002 2h10a2 2 0 002-2V8M9 12h6m-6 4h6"/>
                    </svg>
                    <h3 class="text-3xl font-bold text-gray-900 mb-4">أهلاً وسهلاً بك!</h3>
                </div>
                <p class="text-lg text-gray-700 mb-6 leading-relaxed">
                    قم بتسجيل الدخول لتتمتع بمزايا الموقع وطلب المنتجات بسهولة
                </p>
                <div class="flex gap-3">
                    <button id="welcome-login-btn" class="flex-1 bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md">
                        تسجيل الدخول
                    </button>
                    <button id="welcome-browse-btn" class="flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-600 transition duration-300 shadow-md">
                        تصفح فقط
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="message-box" class="fixed bottom-4 right-4 bg-blue-100 border border-blue-400 text-blue-800 px-6 py-3 rounded-lg shadow-lg z-[1001] hidden flex flex-column align-items-center gap-2 max-width-sm">
        <p id="message-box-text" class="text-center"></p>
        <div class="flex gap-2 mt-2">
            <button id="message-box-confirm" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition duration-200 hidden">تأكيد</button>
            <button id="message-box-cancel" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 transition duration-200 hidden">إلغاء</button>
        </div>
    </div>

    <script src="telegram-handler.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
